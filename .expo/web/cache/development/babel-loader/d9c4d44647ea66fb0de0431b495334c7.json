{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/ryanfay/csc308outdoors/components/ListView.js\";\nimport React, { Component } from 'react';\nimport { SearchBar } from 'react-native-elements';\nimport axios from 'axios';\nimport Item from \"./Item\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\n\nvar ListView = function (_Component) {\n  _inherits(ListView, _Component);\n\n  function ListView(props) {\n    var _this;\n\n    _classCallCheck(this, ListView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ListView).call(this, props));\n    _this.state = {\n      selected: null,\n      isLoading: true,\n      hikes: [],\n      text: ''\n    };\n    _this.arrayholder = [];\n    _this.getHikes = _this.getHikes.bind(_assertThisInitialized(_this));\n    _this.searchData = _this.searchData.bind(_assertThisInitialized(_this));\n    _this.renderHeader = _this.renderHeader.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ListView, [{\n    key: \"searchData\",\n    value: function searchData(text) {\n      var newData = this.arrayholder.filter(function (item) {\n        var itemData = item.name.toUpperCase() + \"   \\n      \" + item.name.toUpperCase() + \" \" + item.name.toUpperCase();\n        var textData = text.toUpperCase();\n        return itemData.indexOf(textData) > -1;\n      });\n      this.setState({\n        hikes: newData,\n        text: text\n      });\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader() {\n      var _this2 = this;\n\n      return React.createElement(SearchBar, {\n        placeholder: \"Type Here...\",\n        lightTheme: true,\n        round: true,\n        onChangeText: function onChangeText(text) {\n          return _this2.searchData(text);\n        },\n        value: this.state.text,\n        autoCorrect: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        }\n      });\n    }\n  }, {\n    key: \"getHikes\",\n    value: function getHikes() {\n      var _this3 = this;\n\n      return _regeneratorRuntime.async(function getHikes$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log('here');\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(axios.get('https://slo-explore-308.herokuapp.com/list/location/all/detail').then(function (res) {\n                return res.data;\n              }).then(function (data) {\n                _this3.setState({\n                  selected: null,\n                  isLoading: false,\n                  hikes: data\n                }, function () {\n                  _this3.arrayholder = data;\n                });\n\n                console.log(data);\n              }).catch(function (err) {\n                return console.log(err);\n              }));\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getHikes();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.state.isLoading) {\n        return React.createElement(View, {\n          style: styles.container,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          }\n        }, React.createElement(FlatList, {\n          data: this.state.hikes,\n          renderItem: function renderItem(_ref) {\n            var item = _ref.item;\n            return React.createElement(Item, {\n              image: item.image,\n              name: item.name,\n              rating: item.rating,\n              description: item.description,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 83\n              }\n            });\n          },\n          keyExtractor: function keyExtractor(item) {\n            return item._id;\n          },\n          extraData: this.state.selected,\n          ListHeaderComponent: this.renderHeader,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          }\n        }));\n      } else {\n        return React.createElement(View, {\n          style: styles.loadView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          }\n        }, React.createElement(Text, {\n          style: styles.loadText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          }\n        }, \"Loading...\"));\n      }\n    }\n  }]);\n\n  return ListView;\n}(Component);\n\nvar styles = StyleSheet.create({\n  loadView: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n    width: '100%'\n  },\n  loadText: {\n    color: '#FFF',\n    opacity: 0.7,\n    fontSize: 60\n  }\n});\nexport default ListView;","map":{"version":3,"sources":["/Users/ryanfay/csc308outdoors/components/ListView.js"],"names":["React","Component","SearchBar","axios","Item","ListView","props","state","selected","isLoading","hikes","text","arrayholder","getHikes","bind","searchData","renderHeader","newData","filter","item","itemData","name","toUpperCase","textData","indexOf","setState","console","log","get","then","res","data","catch","err","styles","container","image","rating","description","_id","loadView","loadText","StyleSheet","create","justifyContent","alignItems","height","width","color","opacity","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { SearchBar } from 'react-native-elements'\nimport axios from 'axios'\nimport Item from './Item'\nimport {\n  FlatList,\n  StyleSheet,\n  View,\n  Text\n} from 'react-native'\n\nclass ListView extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      selected: null,\n      isLoading: true,\n      hikes: [],\n      text: ''\n    }\n\n    this.arrayholder = []\n    this.getHikes = this.getHikes.bind(this)\n    this.searchData = this.searchData.bind(this)\n    this.renderHeader = this.renderHeader.bind(this)\n  }\n\n  searchData (text) {\n    const newData = this.arrayholder.filter(item => {\n      const itemData = `${item.name.toUpperCase()}   \n      ${item.name.toUpperCase()} ${item.name.toUpperCase()}`\n\n      const textData = text.toUpperCase()\n\n      return itemData.indexOf(textData) > -1\n    })\n    this.setState({ hikes: newData, text: text })\n  }\n\n  renderHeader () {\n    return (\n\n      <SearchBar\n        placeholder=\"Type Here...\"\n        lightTheme\n        round\n        onChangeText={text => this.searchData(text)}\n        value= {this.state.text}\n        autoCorrect={false}\n      />\n    )\n  }\n\n  async getHikes () {\n    console.log('here')\n    await axios.get('https://slo-explore-308.herokuapp.com/list/location/all/detail')\n      .then(res => res.data)\n      .then(data => {\n        this.setState({\n          selected: null,\n          isLoading: false,\n          hikes: data\n        }, () => {\n          this.arrayholder = data\n        })\n        console.log(data)\n      })\n      .catch(err => console.log(err))\n  }\n\n  componentDidMount () {\n    this.getHikes()\n  }\n\n  render () {\n    if (!this.state.isLoading) {\n      return (\n        <View style={styles.container}>\n          <FlatList\n            data={this.state.hikes}\n            renderItem={({ item }) => (\n              <Item\n                image = {item.image}\n                name={item.name}\n                rating ={item.rating}\n                description = {item.description}\n              // selected={!!this.state.selected.get(item.name)}\n              // onSelect={onSelect}\n              />\n            )}\n            keyExtractor={item => item._id}\n            extraData={this.state.selected}\n            ListHeaderComponent={this.renderHeader}\n          />\n        </View>\n      )\n    } else {\n      return (\n        <View style={styles.loadView}>\n          <Text style={styles.loadText}>\n            Loading...\n          </Text>\n        </View>\n      )\n    }\n  }\n}\n\nconst styles = StyleSheet.create({\n  loadView: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n    width: '100%'\n  },\n  loadText: {\n    color: '#FFF',\n    opacity: 0.7,\n    fontSize: 60\n  }\n})\n\nexport default ListView\n"]},"metadata":{},"sourceType":"module"}