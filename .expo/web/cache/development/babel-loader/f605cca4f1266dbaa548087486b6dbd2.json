{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/home/matt/Documents/Development/csc308outdoors/components/HikeDetailsView.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport StarRating from 'react-native-star-rating';\nimport { SliderBox } from 'react-native-image-slider-box';\nimport ShowMore from 'react-native-show-more-button';\nimport Review from \"../components/Review\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { withNavigation } from 'react-navigation';\nimport { Divider, Card, registerCustomIconType } from 'react-native-elements';\nimport FontAwesome5 from \"@expo/vector-icons/FontAwesome5\";\nimport axios from 'axios';\nimport { Item } from 'native-base';\nregisterCustomIconType('font-awesome-5', FontAwesome5);\n\nvar HikeDetailsView = function (_Component) {\n  _inherits(HikeDetailsView, _Component);\n\n  function HikeDetailsView(props) {\n    var _this;\n\n    _classCallCheck(this, HikeDetailsView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HikeDetailsView).call(this, props));\n    _this.state = {\n      images: [],\n      isLoading: true,\n      reviewIds: [],\n      reviews: []\n    };\n    _this.getHikeDetails = _this.getHikeDetails.bind(_assertThisInitialized(_this));\n    _this.getReviewsFromIds = _this.getReviewsFromIds.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(HikeDetailsView, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getHikeDetails();\n    }\n  }, {\n    key: \"getReviewsFromIds\",\n    value: function getReviewsFromIds() {\n      var _this2 = this;\n\n      return _regeneratorRuntime.async(function getReviewsFromIds$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(axios.post('https://slo-explore-308.herokuapp.com/list/review/', {\n                reviewIds: this.state.reviewIds\n              }).then(function (res) {\n                return res.data;\n              }).then(function (data) {\n                _this2.setState(_objectSpread({}, _this2.state, {\n                  reviews: data\n                }));\n              }).catch(function (err) {\n                return console.log(err);\n              }));\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"getHikeDetails\",\n    value: function getHikeDetails() {\n      var _this3 = this;\n\n      var navigation, photos, url;\n      return _regeneratorRuntime.async(function getHikeDetails$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              navigation = this.props.navigation;\n              photos = ['https://via.placeholder.com/200'];\n              url = 'https://slo-explore-308.herokuapp.com/list/location/' + navigation.getParam('id', 0) + '/' + navigation.getParam('type', 0);\n              console.log(url);\n              _context2.next = 6;\n              return _regeneratorRuntime.awrap(axios.get(url).then(function (res) {\n                return res.data;\n              }).then(function (data) {\n                if (data._photos.length > 0) {\n                  photos = data._photos;\n                }\n\n                _this3.setState({\n                  isLoading: false,\n                  images: photos,\n                  reviewIds: data._reviews,\n                  reviews: _this3.state.reviews\n                });\n\n                _this3.getReviewsFromIds();\n              }).catch(function (err) {\n                return console.log(err);\n              }));\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var navigation = this.props.navigation;\n      return React.createElement(ScrollView, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        }\n      }, React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        }\n      }, React.createElement(Button, {\n        onPress: function onPress() {\n          return _this4.props.navigation.navigate('SearchStack');\n        },\n        title: \"Back\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        }\n      }), React.createElement(View, {\n        style: styles.imageView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: this.state.images[0]\n        },\n        style: styles.imageStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        }\n      })), React.createElement(View, {\n        style: styles.divView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        }\n      }, React.createElement(Divider, {\n        style: styles.divStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        }\n      })), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        }\n      }, React.createElement(Card, {\n        title: navigation.getParam('hikeName', 'Missing Hike Name'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        }\n      }, React.createElement(View, {\n        style: styles.infoView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        }\n      }, React.createElement(Text, {\n        style: styles.infoHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        }\n      }, \"Rating: \"), React.createElement(StarRating, {\n        starSize: 26,\n        rating: navigation.getParam('hikeRating', 0),\n        fullStarColor: \"#4EF3AB\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        }\n      })), React.createElement(View, {\n        style: styles.descView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        }\n      }, React.createElement(Text, {\n        style: styles.infoHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        }\n      }, \"Description: \"), React.createElement(Text, {\n        style: styles.descText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        }\n      }, navigation.getParam('hikeDescription', 'No description'))), React.createElement(View, {\n        style: styles.gearView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        }\n      }, React.createElement(Text, {\n        style: styles.infoHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        }\n      }, \"Recommended Gear: \"), React.createElement(Text, {\n        style: styles.gearText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        }\n      }, navigation.getParam('hikeGear', 'None'))))), React.createElement(View, {\n        style: styles.divView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        }\n      }, React.createElement(Divider, {\n        style: styles.divStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        }\n      })), React.createElement(Card, {\n        title: \"User Reviews\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        }\n      }, React.createElement(ScrollView, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        }\n      }, React.createElement(ShowMore, {\n        height: 130,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        }\n      }, React.createElement(FlatList, {\n        data: this.state.reviews,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return React.createElement(Review, {\n            rating: item.rating,\n            description: item.description,\n            user: item._user,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            }\n          });\n        },\n        keyExtractor: function keyExtractor(item) {\n          return item._id;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        }\n      })))), React.createElement(Card, {\n        title: \"Photos\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        }\n      }, React.createElement(View, {\n        style: styles.imageContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        }\n      }, React.createElement(SliderBox, {\n        images: this.state.images,\n        parentWidth: 340,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        }\n      }))), React.createElement(View, {\n        style: {\n          marginTop: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        }\n      })));\n    }\n  }]);\n\n  return HikeDetailsView;\n}(Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 10,\n    flex: 1,\n    backgroundColor: '#d6e9d7',\n    width: '100%',\n    height: '150%'\n  },\n  imageView: {\n    flex: 1,\n    alignItems: 'center',\n    backgroundColor: '#d6e9d7'\n  },\n  cardView: {\n    width: '100%',\n    height: '100%'\n  },\n  cardStyle: {\n    width: '100%',\n    height: '100%',\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8\n  },\n  descText: {\n    fontSize: 15\n  },\n  gearText: {\n    fontSize: 15\n  },\n  imageStyle: {\n    width: 360,\n    height: 320\n  },\n  infoView: {\n    flex: 1,\n    flexDirection: 'row',\n    marginTop: 5\n  },\n  infoHeader: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  divView: {\n    marginTop: 15,\n    marginLeft: 22,\n    marginRight: 22\n  },\n  divStyle: {\n    backgroundColor: 'green',\n    height: 2\n  },\n  reviewsView: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  buttonStyle: {\n    width: 100,\n    marginLeft: 10,\n    marginRight: 10\n  },\n  textWrapper: {\n    paddingHorizontal: 10\n  },\n  imageContainer: {\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\nexport default withNavigation(HikeDetailsView);","map":{"version":3,"sources":["/home/matt/Documents/Development/csc308outdoors/components/HikeDetailsView.js"],"names":["React","Component","StarRating","SliderBox","ShowMore","Review","withNavigation","Divider","Card","registerCustomIconType","FontAwesome5","axios","Item","HikeDetailsView","props","state","images","isLoading","reviewIds","reviews","getHikeDetails","bind","getReviewsFromIds","post","then","res","data","setState","catch","err","console","log","navigation","photos","url","getParam","get","_photos","length","_reviews","styles","container","navigate","imageView","uri","imageStyle","divView","divStyle","infoView","infoHeader","descView","descText","gearView","gearText","item","rating","description","_user","_id","imageContainer","marginTop","StyleSheet","create","flex","backgroundColor","width","height","alignItems","cardView","cardStyle","borderTopLeftRadius","borderTopRightRadius","fontSize","flexDirection","fontWeight","marginLeft","marginRight","reviewsView","justifyContent","buttonStyle","textWrapper","paddingHorizontal"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport StarRating from 'react-native-star-rating'\nimport { SliderBox } from 'react-native-image-slider-box'\nimport ShowMore from 'react-native-show-more-button'\nimport Review from '../components/Review'\nimport {\n  ScrollView,\n  StyleSheet,\n  Image,\n  Button,\n  Text,\n  View,\n  FlatList\n} from 'react-native'\nimport { withNavigation } from 'react-navigation'\nimport { Divider, Card, registerCustomIconType } from 'react-native-elements'\nimport FontAwesome5 from 'react-native-vector-icons/FontAwesome5'\nimport axios from 'axios'\nimport { Item } from 'native-base'\nregisterCustomIconType('font-awesome-5', FontAwesome5)\n\nclass HikeDetailsView extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      images: [],\n      isLoading: true,\n      reviewIds: [],\n      reviews: []\n    }\n\n    this.getHikeDetails = this.getHikeDetails.bind(this)\n    this.getReviewsFromIds = this.getReviewsFromIds.bind(this)\n  }\n\n  componentDidMount () {\n    this.getHikeDetails()\n  }\n\n  async getReviewsFromIds () {\n    await axios.post('https://slo-explore-308.herokuapp.com/list/review/', {\n      reviewIds: this.state.reviewIds\n    })\n      .then(res => res.data)\n      .then(data => {\n        this.setState({\n          ...this.state,\n          reviews: data\n        })\n      })\n      .catch(err => console.log(err))\n  }\n\n  async getHikeDetails () {\n    // TODO need reviews and other stuff too or params\n    const { navigation } = this.props\n    let photos = ['https://via.placeholder.com/200']\n    const url = 'https://slo-explore-308.herokuapp.com/list/location/' + navigation.getParam('id', 0) + '/' + navigation.getParam('type', 0)\n    console.log(url)\n    await axios.get(url)\n      .then(res => res.data)\n      .then(data => {\n        if (data._photos.length > 0) {\n          photos = data._photos\n        }\n        this.setState({\n          isLoading: false,\n          images: photos,\n          reviewIds: data._reviews,\n          reviews: this.state.reviews\n        })\n        this.getReviewsFromIds()\n      })\n      .catch(err => console.log(err))\n  }\n\n  render () {\n    const { navigation } = this.props\n    return (\n      <ScrollView style={styles.container}>\n        <View style={styles.container}>\n          <Button\n            onPress={() => this.props.navigation.navigate('SearchStack')}\n            title='Back'\n          />\n          <View style={styles.imageView}>\n            <Image\n              source = {{ uri: this.state.images[0] }}\n              style={styles.imageStyle}>\n            </Image>\n          </View>\n          <View style={styles.divView}>\n            <Divider style={styles.divStyle}/>\n          </View>\n          <View>\n            <Card title={navigation.getParam('hikeName', 'Missing Hike Name')}>\n              <View style={styles.infoView}>\n                <Text style={styles.infoHeader}>Rating: </Text>\n                <StarRating\n                  starSize={26}\n                  rating={navigation.getParam('hikeRating', 0)}\n                  fullStarColor='#4EF3AB'\n                />\n              </View>\n              <View style={styles.descView}>\n                <Text style={styles.infoHeader}>Description: </Text>\n                <Text style={styles.descText}>{navigation.getParam('hikeDescription', 'No description')}</Text>\n              </View>\n              <View style={styles.gearView}>\n                <Text style={styles.infoHeader}>Recommended Gear: </Text>\n                <Text style={styles.gearText}>{navigation.getParam('hikeGear', 'None')}</Text>\n              </View>\n            </Card>\n          </View>\n          <View style={styles.divView}>\n            <Divider style={styles.divStyle}/>\n          </View>\n          <Card title='User Reviews'>\n            <ScrollView>\n              <ShowMore height={130}>\n                <FlatList\n                  data={this.state.reviews}\n                  renderItem={({ item }) => (\n                    <Review\n                      rating ={item.rating}\n                      description = {item.description}\n                      user = {item._user}\n                    />\n                  )}\n                  keyExtractor={item => item._id}\n                />\n              </ShowMore>\n            </ScrollView>\n          </Card>\n          <Card title='Photos'>\n            <View style={styles.imageContainer}>\n              <SliderBox images={this.state.images}\n                parentWidth={340}\n              ></SliderBox>\n            </View>\n          </Card>\n          <View style={{ marginTop: 40 }}>\n          </View>\n        </View>\n      </ScrollView>\n    )\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    marginTop: 10,\n    flex: 1,\n    backgroundColor: '#d6e9d7',\n    width: '100%',\n    height: '150%'\n  },\n  imageView: {\n    flex: 1,\n    alignItems: 'center',\n    backgroundColor: '#d6e9d7'\n  },\n  cardView: {\n    width: '100%',\n    height: '100%'\n  },\n  cardStyle: {\n    width: '100%',\n    height: '100%',\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8\n  },\n  descText: {\n    fontSize: 15\n  },\n  gearText: {\n    fontSize: 15\n  },\n  imageStyle: {\n    width: 360,\n    height: 320\n  },\n  infoView: {\n    flex: 1,\n    flexDirection: 'row',\n    marginTop: 5\n  },\n  infoHeader: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  divView: {\n    marginTop: 15,\n    marginLeft: 22,\n    marginRight: 22\n  },\n  divStyle: {\n    backgroundColor: 'green',\n    height: 2\n  },\n  reviewsView: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  buttonStyle: {\n    width: 100,\n    marginLeft: 10,\n    marginRight: 10\n  },\n  textWrapper: {\n    paddingHorizontal: 10\n  },\n  imageContainer: {\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n})\n\nexport default withNavigation(HikeDetailsView)\n"]},"metadata":{},"sourceType":"module"}