{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/home/matt/Documents/Development/csc308outdoors/components/HikeDetailsView.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport StarRating from 'react-native-star-rating';\nimport { SliderBox } from 'react-native-image-slider-box';\nimport ShowMore from 'react-native-show-more-button';\nimport Review from \"../components/Review\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { withNavigation } from 'react-navigation';\nimport { Divider, Card, registerCustomIconType } from 'react-native-elements';\nimport FontAwesome5 from \"@expo/vector-icons/FontAwesome5\";\nimport axios from 'axios';\nimport { Item } from 'native-base';\nregisterCustomIconType('font-awesome-5', FontAwesome5);\n\nvar HikeDetailsView = function (_Component) {\n  _inherits(HikeDetailsView, _Component);\n\n  function HikeDetailsView(props) {\n    var _this;\n\n    _classCallCheck(this, HikeDetailsView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HikeDetailsView).call(this, props));\n    _this.state = {\n      images: [],\n      isLoading: true,\n      reviewIds: [],\n      reviews: []\n    };\n    _this.getHikeDetails = _this.getHikeDetails.bind(_assertThisInitialized(_this));\n    _this.getReviewsFromIds = _this.getReviewsFromIds.bind(_assertThisInitialized(_this));\n    _this.showMoreConditional = _this.showMoreConditional.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(HikeDetailsView, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getHikeDetails();\n    }\n  }, {\n    key: \"getReviewsFromIds\",\n    value: function getReviewsFromIds() {\n      var _this2 = this;\n\n      return _regeneratorRuntime.async(function getReviewsFromIds$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(axios.post('https://slo-explore-308.herokuapp.com/list/review/', {\n                reviewIds: this.state.reviewIds\n              }).then(function (res) {\n                return res.data;\n              }).then(function (data) {\n                _this2.setState(_objectSpread({}, _this2.state, {\n                  reviews: data\n                }));\n              }).catch(function (err) {\n                return console.log(err);\n              }));\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"getHikeDetails\",\n    value: function getHikeDetails() {\n      var _this3 = this;\n\n      var navigation, photos, url;\n      return _regeneratorRuntime.async(function getHikeDetails$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              navigation = this.props.navigation;\n              photos = ['https://via.placeholder.com/200'];\n              url = 'https://slo-explore-308.herokuapp.com/list/location/' + navigation.getParam('id', 0) + '/' + navigation.getParam('type', 0);\n              console.log(url);\n              _context2.next = 6;\n              return _regeneratorRuntime.awrap(axios.get(url).then(function (res) {\n                return res.data;\n              }).then(function (data) {\n                if (data._photos.length > 0) {\n                  photos = data._photos;\n                }\n\n                _this3.setState({\n                  isLoading: false,\n                  images: photos,\n                  reviewIds: data._reviews,\n                  reviews: _this3.state.reviews\n                });\n\n                _this3.getReviewsFromIds();\n              }).catch(function (err) {\n                return console.log(err);\n              }));\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"showMoreConditional\",\n    value: function showMoreConditional() {\n      if (this.state.reviews.length > 2) {\n        return React.createElement(ShowMore, {\n          height: 130,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          }\n        }, React.createElement(FlatList, {\n          data: this.state.reviews,\n          renderItem: function renderItem(_ref) {\n            var item = _ref.item;\n            return React.createElement(Review, {\n              rating: item.rating,\n              description: item.description,\n              user: item._user,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 85\n              }\n            });\n          },\n          keyExtractor: function keyExtractor(item) {\n            return item._id;\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          }\n        }));\n      } else if (this.state.reviews.length >= 1) {\n        return React.createElement(FlatList, {\n          data: this.state.reviews,\n          renderItem: function renderItem(_ref2) {\n            var item = _ref2.item;\n            return React.createElement(Review, {\n              rating: item.rating,\n              description: item.description,\n              user: item._user,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 100\n              }\n            });\n          },\n          keyExtractor: function keyExtractor(item) {\n            return item._id;\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          }\n        });\n      } else {\n        return React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          }\n        }, \"No reviews submitted.\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var navigation = this.props.navigation;\n      var reviews = this.showMoreConditional();\n      return React.createElement(ScrollView, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        }\n      }, React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        }\n      }, React.createElement(Button, {\n        onPress: function onPress() {\n          return _this4.props.navigation.navigate('SearchStack');\n        },\n        title: \"Back\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        }\n      }), React.createElement(View, {\n        style: styles.imageView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: this.state.images[0]\n        },\n        style: styles.imageStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        }\n      })), React.createElement(View, {\n        style: styles.divView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        }\n      }, React.createElement(Divider, {\n        style: styles.divStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        }\n      })), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        }\n      }, React.createElement(Card, {\n        title: navigation.getParam('hikeName', 'Missing Hike Name'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        }\n      }, React.createElement(View, {\n        style: styles.infoView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        }\n      }, React.createElement(Text, {\n        style: styles.infoHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        }\n      }, \"Rating: \"), React.createElement(StarRating, {\n        starSize: 26,\n        rating: navigation.getParam('hikeRating', 0),\n        fullStarColor: \"#4EF3AB\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        }\n      })), React.createElement(View, {\n        style: styles.descView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        }\n      }, React.createElement(Text, {\n        style: styles.infoHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        }\n      }, \"Description: \"), React.createElement(Text, {\n        style: styles.descText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        }\n      }, navigation.getParam('hikeDescription', 'No description'))), React.createElement(View, {\n        style: styles.gearView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        }\n      }, React.createElement(Text, {\n        style: styles.infoHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        }\n      }, \"Recommended Gear: \"), React.createElement(Text, {\n        style: styles.gearText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        }\n      }, navigation.getParam('hikeGear', 'None'))))), React.createElement(View, {\n        style: styles.divView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        }\n      }, React.createElement(Divider, {\n        style: styles.divStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        }\n      })), React.createElement(Card, {\n        title: \"User Reviews\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        }\n      }, React.createElement(ScrollView, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        }\n      }, reviews)), React.createElement(View, {\n        style: styles.divView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        }\n      }, React.createElement(Divider, {\n        style: styles.divStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        }\n      })), React.createElement(Card, {\n        title: \"Photos\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        }\n      }, React.createElement(View, {\n        style: styles.imageContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        }\n      }, React.createElement(SliderBox, {\n        images: this.state.images,\n        parentWidth: 340,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        }\n      }))), React.createElement(View, {\n        style: styles.divView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        }\n      }, React.createElement(Divider, {\n        style: styles.divStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        }\n      })), React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        }\n      }, React.createElement(View, {\n        style: styles.buttonContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        }\n      }, React.createElement(Button, {\n        title: \"Add Review\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        }\n      }), React.createElement(Button, {\n        title: \"Add Photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        }\n      })))));\n    }\n  }]);\n\n  return HikeDetailsView;\n}(Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    marginVertical: 10,\n    flex: 1,\n    backgroundColor: '#d6e9d7',\n    width: '100%',\n    height: '150%'\n  },\n  buttonContainer: {},\n  imageView: {\n    flex: 1,\n    alignItems: 'center',\n    backgroundColor: '#d6e9d7'\n  },\n  cardView: {\n    width: '100%',\n    height: '100%'\n  },\n  cardStyle: {\n    width: '100%',\n    height: '100%',\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8\n  },\n  descText: {\n    fontSize: 15\n  },\n  gearText: {\n    fontSize: 15\n  },\n  imageStyle: {\n    width: 360,\n    height: 320\n  },\n  infoView: {\n    flex: 1,\n    flexDirection: 'row',\n    marginTop: 5\n  },\n  infoHeader: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  divView: {\n    marginTop: 15,\n    marginLeft: 22,\n    marginRight: 22\n  },\n  divStyle: {\n    backgroundColor: 'green',\n    height: 2\n  },\n  reviewsView: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  buttonStyle: {\n    width: 100,\n    marginLeft: 10,\n    marginRight: 10\n  },\n  textWrapper: {\n    paddingHorizontal: 10\n  },\n  imageContainer: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 200\n  }\n});\nexport default withNavigation(HikeDetailsView);","map":{"version":3,"sources":["/home/matt/Documents/Development/csc308outdoors/components/HikeDetailsView.js"],"names":["React","Component","StarRating","SliderBox","ShowMore","Review","withNavigation","Divider","Card","registerCustomIconType","FontAwesome5","axios","Item","HikeDetailsView","props","state","images","isLoading","reviewIds","reviews","getHikeDetails","bind","getReviewsFromIds","showMoreConditional","post","then","res","data","setState","catch","err","console","log","navigation","photos","url","getParam","get","_photos","length","_reviews","item","rating","description","_user","_id","styles","container","navigate","imageView","uri","imageStyle","divView","divStyle","infoView","infoHeader","descView","descText","gearView","gearText","imageContainer","buttonContainer","StyleSheet","create","marginVertical","flex","backgroundColor","width","height","alignItems","cardView","cardStyle","borderTopLeftRadius","borderTopRightRadius","fontSize","flexDirection","marginTop","fontWeight","marginLeft","marginRight","reviewsView","justifyContent","buttonStyle","textWrapper","paddingHorizontal"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport StarRating from 'react-native-star-rating'\nimport { SliderBox } from 'react-native-image-slider-box'\nimport ShowMore from 'react-native-show-more-button'\nimport Review from '../components/Review'\nimport {\n  ScrollView,\n  StyleSheet,\n  Image,\n  Button,\n  Text,\n  View,\n  FlatList\n} from 'react-native'\nimport { withNavigation } from 'react-navigation'\nimport { Divider, Card, registerCustomIconType } from 'react-native-elements'\nimport FontAwesome5 from 'react-native-vector-icons/FontAwesome5'\nimport axios from 'axios'\nimport { Item } from 'native-base'\nregisterCustomIconType('font-awesome-5', FontAwesome5)\n\nclass HikeDetailsView extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      images: [],\n      isLoading: true,\n      reviewIds: [],\n      reviews: []\n    }\n\n    this.getHikeDetails = this.getHikeDetails.bind(this)\n    this.getReviewsFromIds = this.getReviewsFromIds.bind(this)\n    this.showMoreConditional = this.showMoreConditional.bind(this)\n  }\n\n  componentDidMount () {\n    this.getHikeDetails()\n  }\n\n  async getReviewsFromIds () {\n    await axios.post('https://slo-explore-308.herokuapp.com/list/review/', {\n      reviewIds: this.state.reviewIds\n    })\n      .then(res => res.data)\n      .then(data => {\n        this.setState({\n          ...this.state,\n          reviews: data\n        })\n      })\n      .catch(err => console.log(err))\n  }\n\n  async getHikeDetails () {\n    // TODO need reviews and other stuff too or params\n    const { navigation } = this.props\n    let photos = ['https://via.placeholder.com/200']\n    const url = 'https://slo-explore-308.herokuapp.com/list/location/' + navigation.getParam('id', 0) + '/' + navigation.getParam('type', 0)\n    console.log(url)\n    await axios.get(url)\n      .then(res => res.data)\n      .then(data => {\n        if (data._photos.length > 0) {\n          photos = data._photos\n        }\n        this.setState({\n          isLoading: false,\n          images: photos,\n          reviewIds: data._reviews,\n          reviews: this.state.reviews\n        })\n        this.getReviewsFromIds()\n      })\n      .catch(err => console.log(err))\n  }\n\n  showMoreConditional () {\n    if (this.state.reviews.length > 2) {\n      return (\n        <ShowMore height={130}>\n          <FlatList\n            data={this.state.reviews}\n            renderItem={({ item }) => (\n              <Review\n                rating ={item.rating}\n                description = {item.description}\n                user = {item._user}\n              />\n            )}\n            keyExtractor={item => item._id}\n          />\n        </ShowMore>\n      )\n    } else if (this.state.reviews.length >= 1) {\n      return (\n        <FlatList\n          data={this.state.reviews}\n          renderItem={({ item }) => (\n            <Review\n              rating ={item.rating}\n              description = {item.description}\n              user = {item._user}\n            />\n          )}\n          keyExtractor={item => item._id}\n        />\n      )\n    } else {\n      return (\n        <Text>No reviews submitted.</Text>\n      )\n    }\n  }\n\n  render () {\n    const { navigation } = this.props\n    let reviews = this.showMoreConditional()\n    return (\n      <ScrollView style={styles.container}>\n        <View style={styles.container}>\n          <Button\n            onPress={() => this.props.navigation.navigate('SearchStack')}\n            title='Back'\n          />\n          <View style={styles.imageView}>\n            <Image\n              source = {{ uri: this.state.images[0] }}\n              style={styles.imageStyle}>\n            </Image>\n          </View>\n          <View style={styles.divView}>\n            <Divider style={styles.divStyle}/>\n          </View>\n          <View>\n            <Card title={navigation.getParam('hikeName', 'Missing Hike Name')}>\n              <View style={styles.infoView}>\n                <Text style={styles.infoHeader}>Rating: </Text>\n                <StarRating\n                  starSize={26}\n                  rating={navigation.getParam('hikeRating', 0)}\n                  fullStarColor='#4EF3AB'\n                />\n              </View>\n              <View style={styles.descView}>\n                <Text style={styles.infoHeader}>Description: </Text>\n                <Text style={styles.descText}>{navigation.getParam('hikeDescription', 'No description')}</Text>\n              </View>\n              <View style={styles.gearView}>\n                <Text style={styles.infoHeader}>Recommended Gear: </Text>\n                <Text style={styles.gearText}>{navigation.getParam('hikeGear', 'None')}</Text>\n              </View>\n            </Card>\n          </View>\n          <View style={styles.divView}>\n            <Divider style={styles.divStyle}/>\n          </View>\n          <Card title='User Reviews'>\n            <ScrollView>\n              {reviews}\n            </ScrollView>\n          </Card>\n          <View style={styles.divView}>\n            <Divider style={styles.divStyle}/>\n          </View>\n          <Card title='Photos'>\n            <View style={styles.imageContainer}>\n              <SliderBox images={this.state.images}\n                parentWidth={340}\n              ></SliderBox>\n            </View>\n          </Card>\n          <View style={styles.divView}>\n            <Divider style={styles.divStyle}/>\n          </View>\n          <Card>\n            <View style={styles.buttonContainer}>\n              <Button title='Add Review'></Button>\n              <Button title='Add Photo'></Button>\n            </View>\n          </Card>\n        </View>\n      </ScrollView>\n    )\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    marginVertical: 10,\n    flex: 1,\n    backgroundColor: '#d6e9d7',\n    width: '100%',\n    height: '150%'\n  },\n  buttonContainer: {\n\n  },\n  imageView: {\n    flex: 1,\n    alignItems: 'center',\n    backgroundColor: '#d6e9d7'\n  },\n  cardView: {\n    width: '100%',\n    height: '100%'\n  },\n  cardStyle: {\n    width: '100%',\n    height: '100%',\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8\n  },\n  descText: {\n    fontSize: 15\n  },\n  gearText: {\n    fontSize: 15\n  },\n  imageStyle: {\n    width: 360,\n    height: 320\n  },\n  infoView: {\n    flex: 1,\n    flexDirection: 'row',\n    marginTop: 5\n  },\n  infoHeader: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  divView: {\n    marginTop: 15,\n    marginLeft: 22,\n    marginRight: 22\n  },\n  divStyle: {\n    backgroundColor: 'green',\n    height: 2\n  },\n  reviewsView: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  buttonStyle: {\n    width: 100,\n    marginLeft: 10,\n    marginRight: 10\n  },\n  textWrapper: {\n    paddingHorizontal: 10\n  },\n  imageContainer: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 200\n  }\n})\n\nexport default withNavigation(HikeDetailsView)\n"]},"metadata":{},"sourceType":"module"}